<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Idea Analyzer</title>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #000000;
            --secondary: #1a1a1a;
            --accent: #7f680b;
            --accent-soft: #9d8210;
            --text: #ffffff;
            --text-muted: #a0a0a0;
            --success: #7f680b;
            --warning: #9d8210;
            --danger: #ff4444;
            --border: #333333;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: #000000;
            color: var(--text);
            min-height: 100vh;
            padding: 2rem 1rem;
            position: relative;
            overflow-x: hidden;
            perspective: 1500px;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(127,104,11,0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(157,130,16,0.1) 0%, transparent 50%);
            pointer-events: none;
            animation: gradientShift 15s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; transform: translateY(0); }
            50% { opacity: 0.7; transform: translateY(-20px); }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease-out;
            transform-style: preserve-3d;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px) translateZ(-50px) rotateX(10deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) translateZ(0) rotateX(0deg);
            }
        }

        h1 {
            font-family: 'Instrument Serif', serif;
            font-size: 3.5rem;
            font-weight: 400;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-soft) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            filter: drop-shadow(0 10px 20px rgba(127,104,11,0.4));
            transform: translateZ(30px);
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
            font-weight: 400;
            transform: translateZ(20px);
        }

        .input-section {
            background: linear-gradient(145deg, rgba(26, 26, 26, 0.9), rgba(20, 20, 20, 0.9));
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
            transform-style: preserve-3d;
            box-shadow: 
                0 25px 70px rgba(0,0,0,0.6),
                0 10px 20px rgba(0,0,0,0.4),
                inset 0 1px 0 rgba(127,104,11,0.15),
                inset 0 -1px 0 rgba(0,0,0,0.5);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .input-section:hover {
            transform: translateY(-10px) rotateX(3deg) scale(1.01);
            box-shadow: 
                0 35px 90px rgba(0,0,0,0.7),
                0 15px 30px rgba(127,104,11,0.3),
                inset 0 1px 0 rgba(127,104,11,0.2);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px) translateZ(-40px) rotateX(-5deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) translateZ(0) rotateX(0deg);
            }
        }

        label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: var(--text);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            background: linear-gradient(145deg, #1a1a1a, #141414);
            border: 2px solid var(--border);
            border-radius: 14px;
            color: var(--text);
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            resize: vertical;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 
                inset 0 3px 15px rgba(0,0,0,0.4),
                inset 0 1px 3px rgba(0,0,0,0.6);
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 
                0 0 0 5px rgba(127, 104, 11, 0.15),
                0 5px 20px rgba(127,104,11,0.3),
                inset 0 3px 15px rgba(0,0,0,0.3);
            transform: translateZ(15px) scale(1.01);
        }

        textarea::placeholder {
            color: var(--text-muted);
        }

        button {
            width: 100%;
            padding: 1.4rem 2rem;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-soft) 100%);
            border: none;
            border-radius: 14px;
            color: white;
            font-family: 'DM Sans', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 12px 35px rgba(127,104,11,0.4),
                0 5px 15px rgba(127,104,11,0.3),
                inset 0 2px 0 rgba(255,255,255,0.15),
                inset 0 -2px 0 rgba(0,0,0,0.2);
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        button:hover::before {
            left: 100%;
        }

        button:hover {
            transform: translateY(-5px) translateZ(25px) scale(1.02);
            box-shadow: 
                0 20px 50px rgba(127, 104, 11, 0.5),
                0 10px 25px rgba(127,104,11,0.4),
                inset 0 2px 0 rgba(255,255,255,0.2);
        }

        button:active {
            transform: translateY(-2px) translateZ(15px) scale(0.98);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 3rem;
            animation: fadeInUp 0.5s ease-out;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
            box-shadow: 
                0 8px 25px rgba(127,104,11,0.4),
                inset 0 2px 10px rgba(0,0,0,0.3);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .results {
            display: none;
        }

        .results.active {
            display: block;
        }

        .overall-grade {
            background: linear-gradient(145deg, rgba(127,104,11,0.18), rgba(157,130,16,0.12));
            border: 2px solid var(--accent);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            transform-style: preserve-3d;
            animation: scaleIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 
                0 25px 70px rgba(0,0,0,0.5),
                0 10px 30px rgba(127,104,11,0.3),
                inset 0 2px 0 rgba(127,104,11,0.25),
                inset 0 -2px 10px rgba(0,0,0,0.3);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .overall-grade:hover {
            transform: translateY(-10px) rotateX(5deg) scale(1.02);
            box-shadow: 
                0 35px 90px rgba(0,0,0,0.6),
                0 15px 40px rgba(127,104,11,0.4),
                inset 0 2px 0 rgba(127,104,11,0.3);
        }

        .overall-grade h2 {
            font-family: 'Instrument Serif', serif;
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .grade-display {
            font-size: 6rem;
            font-weight: 700;
            font-family: 'Instrument Serif', serif;
            margin: 1.5rem 0;
            animation: gradeAppear 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            filter: drop-shadow(0 15px 50px currentColor);
            transform: translateZ(50px);
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.7) translateZ(-50px) rotateX(-10deg);
            }
            to {
                opacity: 1;
                transform: scale(1) translateZ(0) rotateX(0deg);
            }
        }

        @keyframes gradeAppear {
            0% {
                opacity: 0;
                transform: scale(0.3) translateZ(0) rotateY(-180deg);
            }
            60% {
                transform: scale(1.1) translateZ(50px) rotateY(10deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateZ(50px) rotateY(0deg);
            }
        }

        .grade-A { color: #7f680b; }
        .grade-B { color: #9d8210; }
        .grade-C { color: #b89614; }
        .grade-D { color: #d4aa18; }
        .grade-F { color: #ff4444; }

        .category {
            background: linear-gradient(145deg, rgba(26, 26, 26, 0.95), rgba(18, 18, 18, 0.95));
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 2rem;
            margin-bottom: 1.8rem;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            animation: categorySlideIn 0.8s cubic-bezier(0.23, 1, 0.32, 1) backwards;
            transform-style: preserve-3d;
            box-shadow: 
                0 15px 40px rgba(0,0,0,0.4),
                0 5px 15px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(127,104,11,0.08),
                inset 0 -1px 0 rgba(0,0,0,0.4);
        }

        @keyframes categorySlideIn {
            from {
                opacity: 0;
                transform: translateX(-50px) translateZ(-30px) rotateY(-10deg);
            }
            to {
                opacity: 1;
                transform: translateX(0) translateZ(0) rotateY(0deg);
            }
        }

        .category:nth-child(1) { animation-delay: 0.1s; }
        .category:nth-child(2) { animation-delay: 0.2s; }
        .category:nth-child(3) { animation-delay: 0.3s; }
        .category:nth-child(4) { animation-delay: 0.4s; }
        .category:nth-child(5) { animation-delay: 0.5s; }
        .category:nth-child(6) { animation-delay: 0.6s; }

        .category:hover {
            border-color: var(--accent);
            transform: translateY(-12px) rotateX(3deg) translateZ(20px) scale(1.01);
            box-shadow: 
                0 25px 60px rgba(0,0,0,0.5),
                0 10px 25px rgba(127,104,11,0.3),
                0 0 30px rgba(127,104,11,0.2),
                inset 0 1px 0 rgba(127,104,11,0.15);
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
            padding-bottom: 1.2rem;
            border-bottom: 2px solid var(--border);
        }

        .category-title {
            font-family: 'Instrument Serif', serif;
            font-size: 1.6rem;
            font-weight: 400;
        }

        .category-grade {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'Instrument Serif', serif;
            filter: drop-shadow(0 8px 25px currentColor);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .category-analysis {
            color: var(--text);
            line-height: 1.9;
            margin-bottom: 1.8rem;
            background: linear-gradient(135deg, rgba(127,104,11,0.05), rgba(157,130,16,0.03));
            padding: 1.3rem;
            border-radius: 10px;
            border-left: 4px solid var(--accent);
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.15);
        }

        .improvements {
            background: linear-gradient(145deg, rgba(127, 104, 11, 0.12), rgba(127, 104, 11, 0.08));
            border-left: 4px solid var(--success);
            padding: 1.3rem 1.7rem;
            border-radius: 10px;
            box-shadow: 
                inset 0 3px 15px rgba(0,0,0,0.25),
                inset 0 1px 0 rgba(127,104,11,0.1);
        }

        .improvements h4 {
            color: var(--success);
            margin-bottom: 1rem;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            filter: drop-shadow(0 2px 5px rgba(127,104,11,0.3));
        }

        .improvements ul {
            list-style: none;
            padding: 0;
        }

        .improvements li {
            padding-left: 1.8rem;
            margin-bottom: 0.8rem;
            position: relative;
            color: var(--text);
            line-height: 1.7;
            transition: all 0.3s ease;
        }

        .improvements li:hover {
            transform: translateX(5px);
            color: var(--accent-soft);
        }

        .improvements li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: 700;
            filter: drop-shadow(0 2px 5px rgba(127,104,11,0.5));
        }

        @media (max-width: 768px) {
            body {
                perspective: 800px;
            }

            h1 {
                font-size: 2.5rem;
            }

            .grade-display {
                font-size: 4.5rem;
            }

            .category:hover {
                transform: translateY(-8px) rotateX(2deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Business Idea Analyzer</h1>
            <p class="subtitle">AI-powered 3D analysis to validate and improve your business concept</p>
        </header>

        <div class="input-section">
            <label for="businessIdea">Describe Your Business Idea</label>
            <textarea 
                id="businessIdea" 
                placeholder="Example: Vegan leather manufacturing using mushroom mycelium. We'll sell to fashion brands and automotive companies looking for sustainable alternatives to animal leather..."
            ></textarea>
            <button id="analyzeBtn" onclick="analyzeIdea()">Analyze My Idea</button>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Analyzing your business idea...</p>
        </div>

        <div class="results" id="results"></div>
    </div>

    <script>
        async function analyzeIdea() {
            const idea = document.getElementById('businessIdea').value.trim();
            
            if (!idea) {
                alert('Please enter a business idea first!');
                return;
            }

            const analyzeBtn = document.getElementById('analyzeBtn');
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');

            analyzeBtn.disabled = true;
            loading.classList.add('active');
            results.classList.remove('active');
            results.innerHTML = '';

            await new Promise(resolve => setTimeout(resolve, 2000));

            try {
                const analysis = analyzeBusinessIdea(idea);
                displayResults(analysis);
            } catch (error) {
                console.error('Error:', error);
                results.innerHTML = `
                    <div class="category">
                        <p style="color: var(--danger); text-align: center;">
                            <strong>Error:</strong> ${error.message}<br><br>
                            Please try again.
                        </p>
                    </div>
                `;
                results.classList.add('active');
            } finally {
                analyzeBtn.disabled = false;
                loading.classList.remove('active');
            }
        }

        function analyzeBusinessIdea(idea) {
            const wordCount = idea.split(/\s+/).length;
            
            // Extract key business elements from the ACTUAL idea
            const hasApp = /\b(app|mobile|software|platform|website|saas|digital)\b/i.test(idea);
            const hasEcommerce = /\b(sell|shop|store|marketplace|ecommerce|retail)\b/i.test(idea);
            const hasSubscription = /\b(subscription|monthly|recurring|membership)\b/i.test(idea);
            const hasManufacturing = /\b(manufactur|produc|make|build|create|fabricat)\b/i.test(idea);
            const hasService = /\b(service|consult|agency|help|assist)\b/i.test(idea);
            
            const hasCustomer = /\b(customer|client|user|buyer|consumer)\b/i.test(idea);
            const hasProblem = /\b(problem|issue|pain|challenge|solve|solution)\b/i.test(idea);
            const hasCompetitor = /\b(competitor|competition|unlike|different|unique|alternative)\b/i.test(idea);
            const hasMetrics = /\b(\d+%|million|billion|\$\d|revenue|profit|margin|cost)\b/i.test(idea);
            const hasMarket = /\b(market|industry|sector|demand|grow)\b/i.test(idea);
            
            // Extract ACTUAL targets/customers from the idea (not hardcoded examples!)
            const targets = extractActualTargets(idea);
            const products = extractActualProducts(idea);
            const businessType = getBusinessType(idea);
            
            // Calculate scores based on content
            const detailScore = Math.min(wordCount / 50, 1);
            const marketScore = (targets.length > 0 ? 0.35 : 0) + (hasProblem ? 0.30 : 0) + (hasCustomer ? 0.20 : 0) + (hasMarket ? 0.15 : 0);
            const competitiveScore = (hasCompetitor ? 0.35 : 0) + ((hasApp || hasManufacturing) ? 0.35 : 0.15) + (detailScore * 0.30);
            const revenueScore = (hasSubscription ? 0.45 : hasEcommerce || hasManufacturing ? 0.25 : 0.10) + (hasMetrics ? 0.30 : 0) + (detailScore * 0.25);
            const feasibilityScore = (hasManufacturing ? 0.30 : hasApp ? 0.35 : 0.45) + (detailScore * 0.40) + (hasMetrics ? 0.15 : 0.10) + 0.05;
            const scalabilityScore = ((hasApp || hasEcommerce) ? 0.45 : hasManufacturing ? 0.30 : 0.15) + (hasSubscription ? 0.30 : 0.10) + 0.15;
            const riskScore = (hasMetrics ? 0.25 : 0) + (detailScore * 0.40) + ((hasCustomer && hasProblem) ? 0.25 : 0.05) + (hasCompetitor ? 0.10 : 0);
            
            const toGrade = (score) => {
                if (score >= 0.80) return 'A';
                if (score >= 0.65) return 'B';
                if (score >= 0.45) return 'C';
                if (score >= 0.25) return 'D';
                return 'F';
            };
            
            const marketGrade = toGrade(marketScore);
            const competitiveGrade = toGrade(competitiveScore);
            const revenueGrade = toGrade(revenueScore);
            const feasibilityGrade = toGrade(feasibilityScore);
            const scalabilityGrade = toGrade(scalabilityScore);
            const riskGrade = toGrade(riskScore);
            
            const avgScore = (marketScore + competitiveScore + revenueScore + feasibilityScore + scalabilityScore + riskScore) / 6;
            const overallGrade = toGrade(avgScore);
            
            return {
                overallGrade,
                categories: [
                    {
                        name: "Market Opportunity",
                        grade: marketGrade,
                        analysis: generateMarketAnalysis(idea, marketGrade, targets, hasCustomer, hasProblem, hasMarket, wordCount),
                        improvements: generateMarketImprovements(idea, targets, hasProblem, businessType)
                    },
                    {
                        name: "Competitive Advantage",
                        grade: competitiveGrade,
                        analysis: generateCompetitiveAnalysis(idea, competitiveGrade, hasCompetitor, businessType, products),
                        improvements: generateCompetitiveImprovements(idea, businessType, hasCompetitor)
                    },
                    {
                        name: "Revenue Model",
                        grade: revenueGrade,
                        analysis: generateRevenueAnalysis(idea, revenueGrade, hasSubscription, hasMetrics, businessType),
                        improvements: generateRevenueImprovements(idea, businessType, hasSubscription, hasMetrics)
                    },
                    {
                        name: "Feasibility",
                        grade: feasibilityGrade,
                        analysis: generateFeasibilityAnalysis(idea, feasibilityGrade, businessType, wordCount),
                        improvements: generateFeasibilityImprovements(idea, businessType)
                    },
                    {
                        name: "Scalability",
                        grade: scalabilityGrade,
                        analysis: generateScalabilityAnalysis(idea, scalabilityGrade, businessType, hasSubscription),
                        improvements: generateScalabilityImprovements(idea, businessType)
                    },
                    {
                        name: "Risk Assessment",
                        grade: riskGrade,
                        analysis: generateRiskAnalysis(idea, riskGrade, businessType, hasProblem, hasMetrics, wordCount),
                        improvements: generateRiskImprovements(idea, businessType, hasProblem)
                    }
                ]
            };
        }

        // Extract ACTUAL business elements from the idea
        function extractActualTargets(idea) {
            const targets = [];
            const lowerIdea = idea.toLowerCase();
            
            // Look for specific customer mentions
            if (/fashion brand|clothing|apparel|designer/i.test(idea)) targets.push('fashion brands');
            if (/automotive|car|vehicle|auto/i.test(idea)) targets.push('automotive companies');
            if (/restaurant|cafe|food service/i.test(idea)) targets.push('restaurants');
            if (/farmer|agriculture|farm/i.test(idea)) targets.push('farmers');
            if (/business|company|enterprise|b2b/i.test(idea)) targets.push('businesses');
            if (/consumer|customer|people|individual|b2c/i.test(idea)) targets.push('consumers');
            if (/student|education|school/i.test(idea)) targets.push('students');
            if (/healthcare|hospital|medical|clinic/i.test(idea)) targets.push('healthcare providers');
            if (/retail|store|shop/i.test(idea)) targets.push('retailers');
            
            return targets;
        }

        function extractActualProducts(idea) {
            const products = [];
            
            if (/leather|hide|material/i.test(idea)) products.push('leather/materials');
            if (/food|meal|dish/i.test(idea)) products.push('food products');
            if (/app|software|platform/i.test(idea)) products.push('software/app');
            if (/product|goods|item/i.test(idea)) products.push('physical products');
            if (/service|consult/i.test(idea)) products.push('services');
            
            return products;
        }

        function getBusinessType(idea) {
            if (/manufactur|produc|make|build|fabricat/i.test(idea)) return 'manufacturing';
            if (/app|mobile|software|platform|saas/i.test(idea)) return 'software';
            if (/ecommerce|sell|shop|store|retail/i.test(idea)) return 'ecommerce';
            if (/service|consult|agency/i.test(idea)) return 'service';
            return 'general';
        }

        // Generate CUSTOM analysis based on actual idea content
        function generateMarketAnalysis(idea, grade, targets, hasCustomer, hasProblem, hasMarket, wordCount) {
            const targetStr = targets.length > 0 ? targets.join(', ') : 'specific customers';
            const snippet = idea.substring(0, 80) + (idea.length > 80 ? '...' : '');
            
            if (grade === 'A' || grade === 'B') {
                return `<strong>Good market awareness.</strong> Your ${wordCount}-word idea "${snippet}" ${targets.length > 0 ? `identifies <strong>${targetStr}</strong> as target customers` : 'mentions potential customers'}. ${hasProblem ? '✓ Customer problem/need is addressed.' : '✗ Problem statement could be clearer.'} ${hasMarket ? '✓ Market awareness shown.' : ''} <strong>Grade ${grade}:</strong> ${targets.length > 1 ? 'Multiple customer segments identified - good' : 'Customer targeting present'}, but need deeper validation of demand.`;
            } else {
                return `<strong>Market needs definition.</strong> Your idea ${!targets.length ? "doesn't clearly specify WHO the customer is" : `mentions ${targetStr} but lacks detail`}. ${!hasProblem ? '✗ Customer problem/pain point is unclear.' : ''} ${!hasMarket ? '✗ No market size or demand discussion.' : ''} <strong>Grade ${grade}:</strong> Without clearly identifying a specific customer with an urgent, expensive problem, validating demand will be difficult.`;
            }
        }

        function generateMarketImprovements(idea, targets, hasProblem, businessType) {
            const improvements = [];
            
            if (targets.length === 0) {
                improvements.push(`Define EXACTLY who your customer is. Instead of broad categories, get specific: If targeting businesses, what size? What industry? What geographic location? Example: "Mid-sized fashion brands (50-500 employees) in US/EU focused on sustainability" not just "fashion brands".`);
            } else {
                improvements.push(`Research your identified targets (${targets.join(', ')}) in depth: How many exist? What's their annual budget for ${businessType === 'manufacturing' ? 'materials/suppliers' : businessType === 'software' ? 'software tools' : 'solutions like yours'}? Who makes buying decisions? What's their purchasing process?`);
            }
            
            if (!hasProblem) {
                improvements.push(`Identify the SPECIFIC problem you solve for ${targets.length ? targets[0] : 'your customers'}. Make it measurable: How much money/time do they lose due to this problem? What does it cost them annually? Quantify the pain.`);
            } else {
                improvements.push(`Validate the problem through customer interviews. Talk to 20-30 potential ${targets.length ? targets[0] : 'customers'}: How do they solve this today? What do they pay? What frustrates them about current solutions? Would they pay for yours?`);
            }
            
            improvements.push(`Calculate realistic market size: TAM (Total Addressable Market - everyone who could buy), SAM (Serviceable Addressable Market - who you can reach), SOM (Serviceable Obtainable Market - realistic year-1 capture). Use industry reports + bottom-up customer counting.`);
            
            return improvements;
        }

        function generateCompetitiveAnalysis(idea, grade, hasCompetitor, businessType, products) {
            const productStr = products.length > 0 ? products[0] : 'your offering';
            
            if (grade === 'A' || grade === 'B') {
                return `<strong>Competitive awareness present.</strong> ${hasCompetitor ? '✓ You mention competitors or differentiation.' : ''} Your ${businessType} model for ${productStr} ${businessType === 'manufacturing' ? 'requires understanding material competitors and alternative suppliers' : businessType === 'software' ? 'faces competition from existing platforms' : 'competes in an established market'}. <strong>Grade ${grade}:</strong> ${hasCompetitor ? 'Understanding competition is good' : 'Need to identify alternatives'} - but what makes you defensibly better long-term?`;
            } else {
                return `<strong>No clear differentiation.</strong> ${!hasCompetitor ? '✗ No competitor analysis mentioned.' : ''} For ${productStr} in ${businessType}, customers already have ${businessType === 'manufacturing' ? 'existing suppliers' : businessType === 'software' ? 'current tools' : 'current solutions'}. <strong>Grade ${grade}:</strong> Without understanding what they use now and why yours is 10x better (not 10% better), customer acquisition will fail.`;
            }
        }

        function generateCompetitiveImprovements(idea, businessType, hasCompetitor) {
            const improvements = [];
            
            if (businessType === 'manufacturing') {
                improvements.push(`Research 5-10 material suppliers/manufacturers in your space. Compare: pricing, quality, production capacity, delivery times, sustainability claims. Where do they fall short? What do buyers complain about in reviews or industry forums?`);
                improvements.push(`Build defensible moats for manufacturing: Proprietary production process, exclusive raw material sourcing, patents on materials/methods, long-term contracts with key buyers, or cost advantages through scale/efficiency.`);
            } else if (businessType === 'software') {
                improvements.push(`List ALL software alternatives: direct competitors, adjacent tools, even spreadsheets/manual processes. For each: features, pricing, user reviews (check G2, Capterra), market position. Find gaps - what do users wish these tools did?`);
                improvements.push(`Technology alone isn't a moat. Build: Network effects (value grows with users), switching costs (hard to leave), proprietary data/AI, integrations that lock users in, or a brand synonymous with the category.`);
            } else {
                improvements.push(`Identify how customers solve this problem TODAY - competitors, DIY solutions, or living with the problem. Why do they use those? What remains unsolved? Your opportunity is in their pain points with current options.`);
                improvements.push(`Define your unique value proposition in one sentence: "Unlike [current solution], we [unique approach] so that [customer] can [specific outcome]." Test this with 20 potential customers - does it make them want to switch?`);
            }
            
            improvements.push(`Identify your unfair advantage - something competitors can't copy: specialized expertise, unique partnerships, proprietary technology/IP, exclusive access to supply/distribution, or existing customer relationships.`);
            
            return improvements;
        }

        function generateRevenueAnalysis(idea, grade, hasSubscription, hasMetrics, businessType) {
            if (grade === 'A' || grade === 'B') {
                return `<strong>Revenue model ${grade === 'A' ? 'clear' : 'emerging'}.</strong> ${hasSubscription ? '✓ Subscription model = predictable recurring revenue.' : businessType === 'manufacturing' ? 'Manufacturing typically uses B2B contracts or per-unit pricing.' : businessType === 'ecommerce' ? 'Ecommerce revenue from product sales + potential subscriptions.' : 'Revenue approach needs definition.'} ${hasMetrics ? '✓ Financial metrics mentioned.' : '✗ No pricing/revenue numbers provided.'} <strong>Grade ${grade}:</strong> ${hasSubscription || hasMetrics ? 'Monetization considered' : 'Revenue direction exists'} but unit economics need validation.`;
            } else {
                return `<strong>Revenue model unclear.</strong> ${!hasSubscription && !hasMetrics ? '✗ No pricing, revenue streams, or financial projections mentioned.' : ''} For ${businessType}, typical models are ${businessType === 'manufacturing' ? 'B2B bulk orders, long-term supply contracts, or per-unit pricing' : businessType === 'software' ? 'subscriptions, usage-based, or freemium' : businessType === 'ecommerce' ? 'product margins, shipping fees, or subscriptions' : 'service fees, retainers, or project-based'}. <strong>Grade ${grade}:</strong> Can you acquire customers for less than their lifetime value? Prove it.`;
            }
        }

        function generateRevenueImprovements(idea, businessType, hasSubscription, hasMetrics) {
            const improvements = [];
            
            if (businessType === 'manufacturing') {
                improvements.push(`Define B2B pricing model: Per-unit cost, minimum order quantities, volume discounts, long-term contract terms. Research competitor pricing. Calculate gross margins - aim for 40%+ to support sales/marketing costs.`);
                improvements.push(`Calculate unit economics: Material costs, production costs, overhead, shipping. At what volume do you break even? What's the minimum order size that's profitable? Model scenarios at different price points.`);
            } else if (hasSubscription) {
                improvements.push(`Design subscription tiers (3-4 levels): Basic (core features, lower price), Pro (advanced features, mid price), Enterprise (custom solutions, premium price). Test pricing with 30+ prospects - what tier appeals most?`);
                improvements.push(`Calculate SaaS metrics: MRR (Monthly Recurring Revenue), churn rate (target <5%/month), expansion revenue (upsells/cross-sells), CAC payback period (target <12 months), net revenue retention (aim for 100%+).`);
            } else {
                improvements.push(`Test pricing models: One-time purchase, subscription, usage-based (pay per use), freemium (free basic + paid premium), or hybrid. Interview customers about willingness-to-pay for each model.`);
            }
            
            improvements.push(`Prove unit economics work: Calculate CAC (Customer Acquisition Cost), LTV (Lifetime Value), gross margin. Formula: LTV should be 3x+ CAC. If not, either raise prices, reduce costs, or improve retention.`);
            improvements.push(`Build 3-year financial model: Monthly revenue projections, cost of goods sold, operating expenses, profit/loss. Include assumptions: customer growth rate, pricing, churn, CAC. Model best/worst case scenarios.`);
            
            return improvements;
        }

        function generateFeasibilityAnalysis(idea, grade, businessType, wordCount) {
            if (businessType === 'manufacturing') {
                return `<strong>Manufacturing feasibility challenges.</strong> Setting up production requires: factory/facility, specialized equipment, raw material sourcing, quality control, certifications/compliance, skilled labor. Your ${wordCount}-word plan ${wordCount > 40 ? 'provides some detail' : 'needs more specifics'} on HOW you'll manufacture. <strong>Grade ${grade}:</strong> ${grade === 'B' || grade === 'C' ? 'Feasible but capital-intensive' : 'Major execution complexity'} - can you start with contract manufacturing or small-scale production to validate?`;
            } else if (businessType === 'software') {
                return `<strong>Software development feasibility.</strong> Building an app/platform requires technical skills, 6-12 months development time, and $50-200k+ budget (or technical cofounder). Your ${wordCount}-word description ${wordCount > 40 ? 'shows planning' : 'lacks implementation detail'}. <strong>Grade ${grade}:</strong> Can you build an MVP in 3-6 months to test with real users before full build?`;
            } else {
                return `<strong>Implementation feasibility.</strong> Your ${wordCount}-word idea ${wordCount > 40 ? 'provides detail but' : 'needs more clarity on'} the path from concept to launch. <strong>Grade ${grade}:</strong> ${grade <= 'C' ? 'Major gaps in execution plan' : 'Feasible with right resources'} - what's your MVP that proves this works?`;
            }
        }

        function generateFeasibilityImprovements(idea, businessType) {
            const improvements = [];
            
            if (businessType === 'manufacturing') {
                improvements.push(`Start with contract manufacturing to validate demand before building your own factory. Find 2-3 contract manufacturers who can produce small batches (500-5,000 units). This reduces upfront capital risk massively.`);
                improvements.push(`List ALL required resources: Production equipment ($X), facility rental ($X/month), raw materials suppliers (who?), quality certifications (which ones?), skilled workers (how many?). Get actual quotes from vendors.`);
                improvements.push(`Create 12-month roadmap: Months 1-2 (source contract manufacturer, get samples made), 3-4 (beta test with 3-5 customers), 5-8 (iterate based on feedback, secure larger orders), 9-12 (decide on in-house production or continue outsourcing).`);
            } else if (businessType === 'software') {
                improvements.push(`Define MVP (Minimum Viable Product): What's the smallest feature set that tests your core hypothesis? Example: Basic search + booking only, no payments or reviews in V1. Cut everything non-essential. Build in 3-6 months max.`);
                improvements.push(`Technical requirements: Frontend (React/Vue), Backend (Node/Python), Database (PostgreSQL), Hosting (AWS/Vercel), APIs needed. Do you have these skills? If not: technical cofounder (equity), hire ($100k+/year), outsource ($50-150/hr), or no-code (limited but faster).`);
            } else {
                improvements.push(`Break launch into phases: Phase 1 (validate demand manually - 1-2 months, <$5k spend), Phase 2 (manual MVP with 10 beta customers - 2-3 months), Phase 3 (systematize and scale - 6+ months). Learn before you scale.`);
            }
            
            improvements.push(`Identify top 5 execution risks: ${businessType === 'manufacturing' ? 'quality issues, supply chain delays, certification roadblocks, higher than expected costs, demand lower than projected' : businessType === 'software' ? 'technical delays, can\'t hire talent, MVP doesn\'t resonate, costs exceed budget, competition launches first' : 'can\'t acquire customers, execution takes longer than planned, costs higher than expected, team gaps, market not ready'}. For each, create mitigation plan.`);
            improvements.push(`Validate with smallest possible test: ${businessType === 'manufacturing' ? 'Get 3 samples made, show to 10 potential buyers. Will they commit to orders?' : businessType === 'software' ? 'Build clickable prototype (no backend), show to 20 users. Do they understand it? Would they pay?' : 'Manually deliver the service to 5 beta customers. Can you fulfill well? Will they pay?'} Prove it works before scaling.`);
            
            return improvements;
        }

        function generateScalabilityAnalysis(idea, grade, businessType, hasSubscription) {
            if (businessType === 'manufacturing') {
                return `<strong>Manufacturing scalability.</strong> Scaling production means: increasing facility capacity, buying more equipment, hiring more workers, securing larger raw material volumes. Margins improve with scale but growth requires significant capital. ${hasSubscription ? 'Subscription model helps with predictable demand forecasting.' : ''} <strong>Grade ${grade}:</strong> ${grade >= 'B' ? 'Can scale but capital-intensive' : 'Linear scaling challenges'} - revenue grows slower than costs initially.`;
            } else if (businessType === 'software') {
                return `<strong>Excellent software scalability.</strong> Digital products can serve unlimited users with minimal marginal cost increase. ${hasSubscription ? 'Recurring revenue compounds as you grow.' : ''} Cloud infrastructure auto-scales. <strong>Grade ${grade}:</strong> Software scales very efficiently - serving 10x users might only need 2x costs (mostly support/sales, not infrastructure).`;
            } else {
                return `<strong>Scalability needs systemization.</strong> ${businessType === 'service' ? 'Service businesses scale slower since delivery requires people/time.' : 'Your model'} ${grade >= 'B' ? 'can grow but requires systems' : 'will struggle to scale without automation'}. <strong>Grade ${grade}:</strong> Can you serve 10x customers without 10x costs? Need to systemize operations.`;
            }
        }

        function generateScalabilityImprovements(idea, businessType) {
            const improvements = [];
            
            if (businessType === 'manufacturing') {
                improvements.push(`Plan production scaling: At what volume do you need your own facility vs contract manufacturing? Model costs at 10x, 50x, 100x current production. Economies of scale kick in, but when? At what volume does gross margin reach target 40-50%?`);
                improvements.push(`Automate what you can: Inventory management systems, order processing, quality control monitoring, supplier ordering. Manufacturing has manual elements but systemize everything possible to reduce labor costs as you scale.`);
            } else if (businessType === 'software') {
                improvements.push(`Build on cloud infrastructure (AWS, Google Cloud, Vercel) from day one - auto-scaling handles traffic spikes. Use managed services for databases, authentication, payments. Design for 100x scale even with 100 users.`);
                improvements.push(`Automate customer lifecycle: Onboarding (interactive guides), support (chatbot + knowledge base), billing (automated), analytics (dashboards). Every manual touchpoint is a bottleneck when you hit 1,000+ customers.`);
            } else {
                improvements.push(`Systemize operations: Create SOPs (Standard Operating Procedures), templates, checklists, scripts for every repeated task. When you hire, new people should be productive in days, not weeks. Document everything now.`);
            }
            
            improvements.push(`Identify scaling bottlenecks before you hit them: ${businessType === 'manufacturing' ? 'Production capacity, raw material supply, quality control, shipping logistics' : businessType === 'software' ? 'Customer support, sales onboarding, infrastructure limits' : 'Delivery capacity, expert availability, operations complexity'}. Build solutions proactively - it's cheaper than fixing after breaking.`);
            improvements.push(`Plan expansion strategy: ${businessType === 'manufacturing' ? 'Geographic expansion (new regions), product line expansion (new materials/products), customer segment expansion (new industries)' : businessType === 'software' ? 'Market expansion (new industries/geographies), product expansion (new features/modules), customer expansion (SMB → enterprise)' : 'Service expansion (new offerings), geographic expansion, customer tier expansion'}. Each should leverage existing strengths.`);
            
            return improvements;
        }

        function generateRiskAnalysis(idea, grade, businessType, hasProblem, hasMetrics, wordCount) {
            const riskLevel = grade <= 'C' ? 'high' : grade === 'B' ? 'moderate' : 'manageable';
            
            return `<strong>${riskLevel.charAt(0).toUpperCase() + riskLevel.slice(1)} risk profile.</strong> Your ${wordCount}-word plan ${wordCount > 40 ? 'shows planning' : 'lacks detail'} on risk mitigation. ${hasProblem ? '✓ Problem identified' : '✗ Problem unclear'}, ${hasMetrics ? '✓ metrics mentioned' : '✗ no validation metrics'}. Main risks: ${businessType === 'manufacturing' ? 'High capital requirements, supply chain disruptions, quality issues, demand uncertainty' : businessType === 'software' ? 'Technical execution delays, competition, user adoption, funding needs' : 'Customer acquisition costs too high, can\'t deliver profitably, market not ready'}. <strong>Grade ${grade}:</strong> ${grade <= 'C' ? 'Many unaddressed risks - need systematic identification and mitigation' : 'Some risk planning but needs deeper contingency plans'}.`;
        }

        function generateRiskImprovements(idea, businessType, hasProblem) {
            const improvements = [];
            
            improvements.push(`Create risk register for ${businessType}: Market risks (${businessType === 'manufacturing' ? 'demand lower than expected, customers don\'t switch from current suppliers' : businessType === 'software' ? 'users don\'t adopt, competitors copy features' : 'customers won\'t pay enough to be profitable'}), Execution risks (${businessType === 'manufacturing' ? 'production delays, quality issues, supplier problems' : businessType === 'software' ? 'technical delays, can\'t find developers, bugs/downtime' : 'can\'t hire right people, operations break'}), Financial risks (run out of money, costs higher than projected). Rate each: likelihood (low/med/high) × impact (low/med/high).`);
            
            if (businessType === 'manufacturing') {
                improvements.push(`Test your RISKIEST assumption first: "Will customers actually buy?" Get 3-5 samples made, show to 20 potential buyers. Can you get 3-5 letters of intent (LOIs) or pre-orders? This validates demand before you invest $100k+ in production setup.`);
                improvements.push(`Supply chain resilience: Identify 2-3 backup suppliers for critical raw materials. Don't depend on one source. Have contracts that protect you from price spikes. Build 2-3 months inventory buffer for essential inputs.`);
            } else if (businessType === 'software') {
                improvements.push(`Test your RISKIEST assumption first: "Will users pay for this?" Build a simple landing page explaining the product, run $500-1,000 in ads, measure signups. Can you get 100+ email signups at <$10 each? This proves demand before building.`);
                improvements.push(`Technical risk mitigation: Use proven technology stacks, not bleeding-edge. Have 2 developers minimum (bus factor protection). Use managed services to reduce complexity. Build with modular architecture so one bug doesn't crash everything.`);
            } else {
                improvements.push(`Test your RISKIEST assumption first: "Will customers pay enough to be profitable?" Manually deliver to 5-10 customers. Track: time spent, cost to deliver, what they'll pay. If CAC + delivery cost > what they pay, the model is broken - pivot before scaling.`);
            }
            
            improvements.push(`Financial resilience: Maintain 12-18 months runway (cash ÷ monthly burn). Know your key metrics: runway, monthly burn rate, revenue growth rate. When runway hits 6 months, either raise money or cut costs drastically - don't wait until 2 months.`);
            improvements.push(`Build contingency plans for top 3 risks. For each: Early warning indicators (how do you detect it early?), prevention strategy (how do you reduce likelihood?), response plan (what do you do if it happens?). Example: If demand is weak (detected by low conversion rates), prevention = better customer research upfront, response = pivot to different customer segment.`);
            
            return improvements;
        }

        function displayResults(analysis) {
            const results = document.getElementById('results');
            
            const overallGradeClass = `grade-${analysis.overallGrade}`;
            
            let html = `
                <div class="overall-grade">
                    <h2>Overall Grade</h2>
                    <div class="grade-display ${overallGradeClass}">${analysis.overallGrade}</div>
                </div>
            `;

            analysis.categories.forEach((category, index) => {
                const gradeClass = `grade-${category.grade}`;
                html += `
                    <div class="category">
                        <div class="category-header">
                            <h3 class="category-title">${category.name}</h3>
                            <span class="category-grade ${gradeClass}">${category.grade}</span>
                        </div>
                        <p class="category-analysis">${category.analysis}</p>
                        <div class="improvements">
                            <h4>Specific Improvements for Your Idea</h4>
                            <ul>
                                ${category.improvements.map(imp => `<li>${imp}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            });

            results.innerHTML = html;
            results.classList.add('active');
        }
    </script>
</body>
</html>